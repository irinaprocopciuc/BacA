<!DOCTYPE html>
<html lang="en">

<head>

    <meta http-equiv="Content-Type" content="text/html;" charset="UTF-8" />
    <title>BacA Documentation</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="https://w3c.github.io/scholarly-html/css/scholarly.min.css">
    <link rel="stylesheet" href="baca-style.scss">
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
        integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
        crossorigin="anonymous"></script>
</head>

<body>
    <header >
        <h1 class="font-weight-bold">BacA Documentation</h1>
    </header>
    <div>
        <nav>
            <h2 class="text-info">Page of Contents</h1>
                <ol class="text-secondary">
                    <li><a href="#Abstract">Abstract</a></li>
                    <li><a href="#Introduction">Introduction</a></li>
                    <li><a href="#Technologies">Technologies</a></li>
                    <ol class="ml-1 text-secondary">
                        <li><a href="#front-end">Front End Technologies</a></li>
                        <li><a href="#back-end">Back End Technologies</a></li>
                        <li><a href="#apis">APIs</a></li>
                    </ol>
                    <li><a href="#Structure">Architecture</a></li>
                    <li><a href="#UserInteraction">User interaction</a>
                        <ol class="ml-1">
                            <li><a href="#loginpage">Login page</a></li>
                            <li><a href="#home-page">Home page</a></li>
                            <li><a href="#trip-details-page">Trip details page </a></li>
                        </ol>
                    </li>
                    <li><a href="#Use-Cases">Use Cases</a></li>
                    <li><a href="#References">References</a></li>
                </ol>
        </nav>
        <hr>
        <br>
        <h3 class="text-info">Project realized by:</h3>
        <ul class="">
            <li>Chelaru Iustina casat. Laschi</li>
            <li>Ionescu Robert Florin</li>
            <li>Procopciuc Irina</li>
        </ul>

        <h3 id="Abstract" class="text-info">Abstract</h3>
        <p>
            BacA (Backpacker Web Assistant) is an application that allows hikers to choose a route to explore a 
            foreign country while also offering the opportunity to find out nearest shops, hospitals, hotels.
        </p>
        <hr>
        <br>
        <h3 id="Introduction" class="text-info">Introduction</h3>
        <p>
            With BacA, the users can see different touristic points of interest like coffee shops, restaurants, museums,
            shops, hospitals, and so much more, close to the hiking routes that the users will choose to go on.
            If they want, they can make a budget for the trip for an easier way to find the perfect place to visit.
            For example, if they are backpackers, they can find the cheapest restaurants or places to eat, but if they
            are simple travelers, that want to know better the culture of the country or region that they are visiting, 
            they will be able to find the best points of interest to fulfill their wishes, like museums or traditional restaurants. 
        </p>
        <p>
            The users will have the possibility 
            to add the points of interest to their route, making them visible on the map. At the same time, they will get 
            information about how they will have the possibility to contact the authorities if they need help by showing 
            them the emergency number, based on the geographic zone that they will travel through.  
            The user will also have the possibility to save the routes for later use or future use for a newly planned trip.
        </p>
        <hr>
        <br>
        <h3 id="Technologies" class="text-info"> Technologies </h3>
        <p>In this chapter we are going to give some details about the technologie we will use on the frontend and
            backend side,
            but also about the public API's we found useful for our application.</p>
        <br>
        <h4 id="front-end" class="text-info">Front End Technologies</h4>
        <p>
            In order to develop the user interface we chose to use <a href="https://angular.io/" target="_blank">Angular
                framework</a>
            because it will help us build
            maintainable and easy to use components. Also, we will integrate Angular Material, a library which contains
            pre-build styled components, in order to have UI consistency between pages.
        </p>
        <p>For the installation of the packages and also to run and test the app we will use the <span
                class="text-danger">npm</span> package manager
            from Node.js.</p>
        <p>
            Apart from that we used a series of additional packages that helped us in the development of various key
            functionalities:
        </p>
        <ul>
            <li>
                <span class="text-secondary"><code>Angular Material</code></span>
                <p class="ml-4">This is a an official component library build by Angular and Typescript. It
                    contains pre-build components which can be styled using pre-defined properties. This library also
                    follows the best UI practicies like adding new features promptly from command line templates. Some
                    of the available components we will use from here are: navigation bar, button, input, card, menu.
                </p>
            </li>
            
            
                
            </li>
            <li>
                <span class="text-secondary"><code>ngx-toastr</code></span>
                <p class="ml-4">This library will be used to inform the user about the results of his actions. It will provide us with a Toast component
                    which will be used to display the erros and success messages.
                </p>
            </li>
            <li>
                <span class="text-secondary"><code>mapbox-gl</code></span>
                <p class="ml-4">
                    Mapbox GL is a javascript library that uses WEBGL to render interactive maps from vector tiles and Mapbox styles. We will use this library
                    in provide a map to the user, to add markers for some specific locations he already filled when adding the trip details or to search for a new place.
                </p>
            </li>
        </ul>
        <hr>
        <br>
        <h4 id="back-end" class="text-info">Back End Technologies</h4>
        <p>For the backend part we plan to develop a REST API that would provide data in json format to the client.
            In order to achieve this we will use Java as the main programming language. On top of this it comes the
            <a href="https://spring.io/projects/spring-boot" target="_blank">Spring Boot framework</a>, a very popular
            Java-based
            framework for building web applications.
        </p>
        <p>For the data persistence layer we will use <a href="https://www.mysql.com/" target="_blank">MySQL</a>, an
            open-source
            relational
            database management system.</p>
        <p>Other dependencies used are:</p>
        <ul>
            <li><code>Maven</code>
                <p class="ml-4">The most popular build and dependency management for Java, <a
                        href="https://maven.apache.org/" target="_blank">Maven</a>
                    will help us manage all the dependencies of our project. It will help us easily add jars and other
                    dependencies to the project, and update them rapidly when needed.</p>
            </li>
            <li><code>Jackson</code>
                <p class="ml-4">Jackson is a very populare and efficient java based library, used to serialize or map
                    java objects to JSON and vice versa. It provides a high level facade to simplify commonly used use
                    cases and also provides default mapping for most of the objects to be serialized.</p>
            </li>
        </ul>
        <hr>
        <br>
        <h4 id="apis" class="text-info">APIs</h4>
        <p>In this subchaper we will describe which APIs we decided to include in our application and what are their use for it.
        </p>
        <ul>
            <li>
                <code>
                    <a href="https://docs.mapbox.com/api/overview/" target="_blank">Mapbox Maps Service for web API</a>
                </code>
                <p>
                    This service includes several APIs used for creating and creating maps.
                    This API will provide us with a way to customize maps with our own content and imagery, allowing us
                    to display the maps on web pages and mobile devices. 
                </p>
            </li>

            <li>
                <code> <a href="http://emergencynumberapi.com/" target="_blank">Emergency Number API</a></code>
                <p>
                    This API will give us informations about emergency numbers for any country in the world.
                    
                </p>
            </li>
            
        </ul>

        <hr>
        <br>
        <h3 id="Structure" class="text-info">Architecture</h3>
        <img src="General architecture/architecture_diagram.png" class="img-fluid mt-4 mb-4" id="architecture" alt="UseCaseLogin">
        <p>
            As we can see, the architecture of the application is implemented based on the following elements :
             Client (Web browser and mobile browser), Angular frontend application, Appi, Java with Spring Boot backend and MySQL database.
        </p>
     
        <p>
           The communication between this services is shown below:
        </p>
       
        <section id="Client">
            <h5>Client</h5>
            <p>
                The application can be accessed through web browser or mobile browser. The user can get in contact 
                with the frontend part that we will be doing in Angular frontend application.
            </p>
            </section>
            <section id="Angular">
                <h5>Angular frontend application</h5>
                <p>
                   Through Angular frontend application some of the public APIs will be accesed. With the help of API we can find details 
                   like where is a person accomodated, located, the shops and hospitals around or a police station 
                   that he or she can go to. 
                   Also, the frontend application will communicate with the backend through some REST APIs made by us.
                   The Angular frontend application is divided into two modules, the core and the features mdoule. 
                   In the <strong>core</strong> module we have a folder dor the servicies used by our applications' components, a folder for the models and
                   an adapter for the dates. The servicies will be used to communicate with the backend by calling the REST APIs or public APIs using HttpClient. 
                   In the <strong>features</strong> module we can find all the components created for the BacA applicaton, components like login, register, trips-list, trip-details.
                   <img src="General architecture/Frontend-app-structure.PNG" alt="Frontend structure" class="img-fluid mt-4 mb-4">
                </p>
            </section>
            <section id="API">
                <h5>API</h5>
                <p>
                   We wil use some public API like Mapbox maps service for web API and Emergency Number API.
                   This APIs are accessed from the frontend servicies by using an API key provided by them. 
                   The response comes in json format and will be shown to the user by using the created components.
                </p>
            </section>
            <section id="Java">
                <h5>Java with Spring Boot </h5>
                <p>
                    The backend part will be made in Java with Spring Boot as a framework.
                    Regarding the backend project structure, we encounter four packages: api, dao, model and service.
                    The Main is located in the default package and it contains some cors configurations so that the created APIs can be called from the Angular app.
                    In the <strong>api</strong> package we find the controllers which are used to actually create the APIS accesed by frontend. We have four controllers,
                    for login, register, trip and errors. 
                    The controllers will map the request body to the model from <strong>model</strong> package when necessary.
                    After this it calls the used services from that particular API from <strong>service</strong> package.
                    The service is responsable with the business logic of the API. In our case, every time it will use a repository from <strong>dao</strong> package 
                    to accomplish the functionality. Each repository contains the singleton connection to the database and it will execute the necessary queries.
                    The singleton connection is accomplished by using the Dependency Inversion principle from the SOLID principles implemented by the Dependency Injection design patter.
                    <img src="General architecture/Backend-packages.PNG" alt="Frontend structure" class="img-fluid mt-4 mb-4">
                </p>
            </section>
            <section id="MySQL">
                <h5>MySQL database</h5>
                <p>
                The database will be created in MySQL.
                In the baca database we created two tables, User and Trip. Each user can have one or more trips related to his account.
                The backend will communicate with tha database through MySQL.
                <img src="General architecture/DB_diagram.png" alt="Db Diagram" class="img-fluid mt-4 mb-4">
                </p>
            </section>
    </section>
        <hr><br>
        <h3 id="UserInteraction" class="text-info">User interaction</h3>
        <hr>
        <p>In this chapter, we are going to give some details about the pages that the user will interact with.</p>
        <h4 id="front-end" class="text-info">Login page</h4>
        <p>
            On the login page, the user can be authenticated into the application. If he has previously created an account, he can fill
            the login form with the needed credentials and he will be loged into the application. In case the user doen't have an account,
            he can press the Register button and go to Register page to fill in the details of his new account.
            The two fields required for the login are the username and the password.
            <img src="User intercation/User interaction-update/login.png" class="img-fluid mt-4 mb-4" alt="LoginPage">
        </p>
        <h4 id="front-end" class="text-info">Register page</h4>
        <p>On the register page, the users can create a new account. 
            The fields required for this process will be the name, username, email, password and confirm password.
            In case of the password validation, the user should add a password which contains small letters, uppercase letters and numbers.
            After filling all these details he can press the Register button and he will receive a confirmation if the register 
            was done successfully. Otherwise, an error will appear and the user has to fill the form correctly.
            In case he wants to fil the form again, he can press the Cancel button and all the fields will be cleared. 
            Or, if he remembers he already has an account, he can go back to login page.
        </p>
            <img src="User intercation/User interaction-update/register.png" class="img-fluid mt-4 mb-4" alt="RegisterPage">
        
            <h4 id="front-end" class="text-info">Home page</h4>
            <p>On the Homepage, the user can see a message that sounds like "Find the best travel deals..." and he will be able to 
                simply navigate to pages like: Trips, New trip and Logout from he applications' header.
        </p>
            <img src="User intercation/User interaction-update/homepage.png" class="img-fluid mt-4 mb-4" alt="HomePage">
        <h4 id="front-end" class="text-info">New trip</h4>
        <p>On the New trip page the user can add a new trip that contains the name of the trip, a starting point and
            the final destination. He shouls also choosea start date and an end date for his trip. This new trip can be actually the next trip 
            that the user will go through and it will appear on the Trips page after after all the steps from new trip page 
            will be completted. If all the details for the trip are completed, all form fields being required, a success toaster wil appear
            announcing the user that his trip was added to the list and the user will be redirected to the Trips page. Otherwise, the 
            user remains on the New trip page and an error is shown.
        <img src="User intercation/User interaction-update/add_new_trip.png" class="img-fluid mt-4 mb-4" alt="NewTrip">
        </p>
        <h4 id="front-end" class="text-info">Trips page</h4>
        <p>
            On the Trips page the user can see a list of all his planned trips. For each trip he will see just a small amount of information,
            like the trip name, the period in which the trip will take place and the starting point and destination. 
            For each trip there are also present two button: View details and Delete trip. If the user presses the second button 
            he can delete a trip if he presses the Ok button from the confirmation dialog. If the user wants to see more details about
            a specific trip he should press the View details button and he will be redirected to the Trip details page.
            <img src="User intercation/User interaction-update/trips.PNG" class="img-fluid mt-4 mb-4" alt="Trips">
        </p>
        <h4 id="front-end" class="text-info">Trip details page</h4>
        <p>
            On the Trip details page the user will be able to find more details about his current elected trip. 
            The main information presented here are the name of the trip and the current location of the user, the starting point for his trip and 
            the final destination. Also, an emergency number corresponding to the destination of the user will appear, in case of some emergencies.
            At the bottom of the page the user will find a map with three markers on it, the current location, the starting point and the destination
            for the trip. If he puts the mouse over one of them a popup will appear and he will be able to see the exact locatio of each marker.
            The map has a search integrated in it, in the right top corner of the map. This search allows user to find any attractions for his trip,
            hotels, shops, parks by simply typying the name of them. He will be able to choose from a suggestions list for the typed term 
            and the chosen element will be shown on the map with a green marker.   
            <img src="User intercation/User interaction-update/trip_details.png" class="img-fluid mt-4 mb-4" alt="Trip details">
            <img src="User intercation/User interaction-update/map_search.PNG" class="img-fluid mt-4 mb-4" alt="Map search">
        </p>
        <h3 id="Use-Cases" class="text-info">Use Cases</h3>
        <br>
        <ul style="list-style-type:lower-roman;">
            <li>
                <span class="text-secondary"><code>Use case for user login</code></span>
                <br>
                <img src="General architecture/Use cases/usecase_login.png" class="img-fluid mt-4 mb-4" alt="UseCaseLogin">
                <br>
                <p class="ml-4">The login into our application can be described by the following steps:</p>
                <ul style="list-style-type:circle;">
                    <li>When first entering the application, the user will encounter the homepage with two buttons
                        available in the menu:
                        Login(used in case the user already has an account created) and Register(if the user still
                        doesn't have any credentials).</li>
                    <li>If he already has an account he will fill the username and the password which will be validated
                        using the validateUser method and after pressing the Login button,
                        if everything it's ok,he will be redirected to homepage and a success message will be displayed.
                        Otherwise, an error will pop up and the user will need to introduce the credentials again.
                        hopefully the right ones this time.
                    </li>
                    <li>If the user doesn't have an account he will press the Register button and will fill the form
                        with the username he desires, his name, email and
                        with a password by his choice. After successfully registered, the user will be redirected to
                        Login page and he will follow the step described above
                        in order to access the application.
                    </li>
                    <li>In everything goes smoothly, now the user should be able to navigate to the other pages of our
                        application.</li>
                    <li>If the user doesn't want to login to our app, he still can access the homepage where there will
                        be some generic informations, but
                        he won't be able to log his trips and see other details about them.
                    </li>
                </ul>
            </li>
            <br>
            <li>
                <span class="text-secondary"><code>Use case for Trip</code></span>
                <br>
                <img src="General architecture/Use cases/usecase_trip.png" class="img-fluid mt-4 mb-4" alt="UseCaseTrip">
                <br>
                <p class="ml-4">The operation logic for this use case can be described by the following steps:</p>
                <ul style="list-style-type:circle;">
                    <li>The user navigates to the homepage of our application.</li>
                    <li>The user has the option to login, step mandatory to be taken if he wants to add new trips.</li>
                    <li>After the user successfully pass the login step, he will be able to add a new trip.</li>
                    <li>A new form will be displayed and the user should add some basic details of his trip like
                        duration,
                        destination, budget.</li>
                    <li>After the user presses the save button, all the details he filled are send to the system. In the
                        list of trips from the homepage will appear a
                        new trip, the one created earlier.
                    </li>
                    <li>From the list of trips added by the user, he will be able to edit or delete them, and each time
                        the new changes will be sent to the system.</li>
                </ul>
            </li>
            <br>
            <li>
                <span class="text-secondary"><code>Use case for TripDetails<br></code></span>
                <img src="General architecture/Use cases/usecase_tripdetails.png" class="img-fluid mt-4 mb-4" alt="UseCaseTripDetails">
                <br>
                <p class="ml-4">This use case can be described by the following steps:</p>
                <ul style="list-style-type:circle;">
                    <li>The user navigates to TripDetails page after login.</li>
                    <li>After this he will be able to see the trip details he added on the home page and furthermore a
                        map will be loaded.
                        This map will have a dropdown select placed above and the user will be able to select the type
                        of objectives he wants to see on the map. After he selects one option the results will appear on
                        map.</li>
                    <li>Also, the user has the possibility to ask for an emergency number available in the zone he
                        planned the trip, in case some unexpected things happen.</li>
                    <li>After this, the user can purchase a plane ticket if he wants, and after he adds the date when
                        he wants to fly,
                        the ticket will be added to the tickets section from the page.
                    </li>
                    <li>As an alternative, he can choose to rent a car for a specific period and after he fills the
                        required details,
                        the element will appear in the Rent car section.
                    </li>
                </ul>
            </li>
            <br>
            <li>
                <span class="text-secondary"><code>Use case for Accommodation<br></code></span>
                <img src="General architecture/Use cases/usecase_accommodation.png" class="img-fluid mt-4 mb-4" alt="UseCaseAccommodation">
                <br>
                <p class="ml-4">In this case we have the following steps:</p>
                <ul style="list-style-type:circle;">
                    <li>The user navigates to TripDetails page after login.</li>
                    <li>He selects the Add accommodation button from this page.</li>
                    <li>After this he will be redirected to another page where he can fill the details about where he
                        wants to stay.
                        Also, he will be able to choose from a list of hotels selected using the details he specified before.
                    </li>
                    <li>After the user selects one hotel and the period he wants to stay there, he will be able to see
                        the room details
                        and also the booking status.
                    </li>
                    <li>After the specified period for the booking ends, the user can rate the hotel and its
                        servicies.</li>
                </ul>
            </li>
        </ul>
        <hr /><br />
        <h3 id="References" class="text-info">References</h3>
        <ol>
            <li><a href="https://profs.info.uaic.ro/~busaco/teach/courses/websys/index.html" target="_blank">Web Systems
                    Development</a></li>
            <li><a href="https://angular.io/" target="_blank">Angular</a></li>
            <li><a href="https://material.angular.io/" target="_blank">Angular Material</a></li>
            <li><a href="https://spring.io/projects/spring-boot" target="_blank">Spring Boot</a></li>
            <li><a href="https://www.tutorialspoint.com/jackson/index.htm" target="_blank">Jackson</a></li>
            </li>
            <li>
                <a href="https://docs.mapbox.com/api/overview/"> Mapbox Web API</a>
            </li>
            <li>
                <a href="https://docs.mapbox.com/mapbox-gl-js/api/">Mapbox GL</a>
            </li>
            <li>
                <a href="https://www.npmjs.com/package/ngx-toastr">ngx-toastr</a>
            </li>
        </ol>
        <hr>
    </div>
</body>

</html>